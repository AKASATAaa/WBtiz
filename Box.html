<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì•¼êµ¬ ë°•ìŠ¤ìŠ¤ì½”ì–´</title>
    <style>
        body {
            font-family: 'Malgun Gothic', sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .header {
            background: linear-gradient(45deg, #1a237e, #3949ab);
            color: white;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .game-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .team-logo {
            width: 60px;
            height: 60px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #333;
        }
        
        .team-name {
            font-size: 18px;
            font-weight: bold;
        }
        
        .team-record {
            font-size: 12px;
            opacity: 0.8;
        }
        
        .result {
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 14px;
        }
        
        .win { background-color: #4caf50; }
        .lose { background-color: #f44336; }
        
        .scoreboard {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .scoreboard table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .scoreboard th {
            background: #333;
            color: white;
            padding: 10px 8px;
            text-align: center;
            font-size: 14px;
            border: 1px solid #555;
        }
        
        .scoreboard td {
            padding: 8px;
            text-align: center;
            border: 1px solid #ddd;
            font-size: 14px;
        }
        
        .team-row {
            font-weight: bold;
        }
        
        .team-row td:first-child {
            background: #f8f9fa;
            text-align: left;
            padding-left: 15px;
        }
        
        .inning-score {
            min-width: 30px;
        }
        
        .final-stats {
            background: #e3f2fd;
        }
        
        .batting-stats {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .stats-header {
            background: #333;
            color: white;
            padding: 15px;
            font-size: 16px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .stats-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .stats-table th {
            background: #f8f9fa;
            padding: 8px 6px;
            text-align: center;
            font-size: 12px;
            border: 1px solid #ddd;
            color: #333;
        }
        
        .stats-table td {
            padding: 6px;
            text-align: center;
            border: 1px solid #ddd;
            font-size: 12px;
        }
        
        .player-name {
            text-align: left !important;
            padding-left: 10px !important;
            font-weight: bold;
        }
        
        .batting-order {
            text-align: center !important;
            font-weight: bold;
            color: #666;
            width: 30px;
        }
        
        .position {
            font-weight: bold;
            color: #666;
            text-align: center !important;
            width: 30px;
        }
        
        .total-row {
            background: #f0f0f0;
            font-weight: bold;
        }
        
        .pitching-stats {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .highlight {
            background: #fff3cd !important;
        }
        
        .file-input {
            margin-bottom: 20px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .file-input label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
        }
        
        .file-input input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="file-input">
        <label for="csvFile">CSV íŒŒì¼ ì—…ë¡œë“œ:</label>
        <input type="file" id="csvFile" accept=".csv" onchange="loadCSV(event)">
        <button onclick="loadSampleData()" style="margin-left: 10px; padding: 8px 15px; background: #2196f3; color: white; border: none; border-radius: 4px; cursor: pointer;">ìƒ˜í”Œ ë°ì´í„° ë¡œë“œ</button>
    </div>

    <div id="boxscore-container"></div>

    <script>
        // ìƒ˜í”Œ ë°ì´í„°
        const sampleData = {
            gameInfo: {
                date: '2025.08.01(ê¸ˆ)',
                awayTeam: 'NC',
                homeTeam: 'ì‚¼ì„±',
                awayRecord: 'AWAY 33ìŠ¹ 35íŒ¨ 2ë¬´',
                homeRecord: 'HOME 50ìŠ¹ 20íŒ¨ 1ë¬´',
                location: 'êµ¬ì¥: ì ì‹¤'
            },
            scoreByInning: [
                ['TEAM', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'R', 'H', 'E', 'B'],
                ['NC', '1', '0', '2', '0', '1', '0', '0', '0', '0', '4', '9', '2', '5'],
                ['ì‚¼ì„±', '3', '2', '2', '0', '1', '0', '0', '0', '-', '8', '9', '0', '8']
            ],
            awayBatting: [
                ['íƒ€ìˆœ', 'í¬ì§€ì…˜', 'ì„ ìˆ˜ëª…', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'íƒ€ìˆ˜', 'ì•ˆíƒ€', 'íƒ€ì ', 'ë“ì ', 'íƒ€ìœ¨'],
                ['1', 'ì¤‘', 'ë°•í˜•ë¹ˆ', 'ì‚¼ì§„', 'ì‚¼ì§„', '', 'ì‚¼ì§„', '', '2ë£¨', '', '', '', '4', '0', '0', '0', '0.208'],
                ['', 'íƒ€', 'ì˜¤íƒœì–‘', '', '', '', '', '', '', 'ìœ ë³¼', '', '', '1', '0', '0', '0', '0.286'],
                ['2', 'ì¢Œ', 'ë°•ì‹œí˜„', 'ì‚¼ì§„', '', '4êµ¬', 'ìš°ì•ˆ', '', '2ë£¨', '', 'ìœ ë³¼', '', '4', '1', '0', '0', '0.293'],
                ['3', 'ì§€', 'í•œì„ì—°', 'ì¢Œì•ˆ', '', '4êµ¬', '1íƒ€', '', '2ì§', '', '', '', '3', '1', '0', '2', '0.346'],
                ['4', 'ì¼', 'ì•ˆì§„ì‚°', '2ë£¨', '', 'ìš°ë³¼2', '', 'ì¢Œí”Œ', '', 'ëœ¬ë•…', '', '', '4', '3', '2', '2', '0.395'],
                ['5', 'ìš°', 'ê¹€ë²”ì¤€', 'ìš°ì•ˆ', '', 'ì‚¬êµ¬', '', 'í¬íŒŒ', '', 'ìš°ì•ˆ', '', '', '3', '2', '1', '0', '0.247'],
                ['6', 'ì‚¼', 'ë„íƒœí›ˆ', '4êµ¬', '', '2ë£¨', '', 'ìœ ë¹„', '', '2ë³¼', '', '', '3', '0', '0', '0', '0.356'],
                ['7', 'ì´', 'ë°•ì¸ìš°', '', '', '', '', '', '', '', '', '', '0', '0', '0', '0', '0.233'],
                ['8', 'í¬', 'ì‹ ë¯¼ìš°', '', '4êµ¬', '', 'ì¢Œë¹„', '', 'ìœ ë¹„', '', '3ë£¨', '', '3', '0', '0', '0', '0.314'],
                ['9', 'ìœ ', 'ê¹€ê¸¸íƒœ', '', 'ìœ ë³¼', '', '2ë³¼', '', '1ì§', '', '', '', '3', '0', '0', '0', '0.17'],
                ['', 'ëŒ€íƒ€', 'ê³ ìŠ¹ì—…', '', '', '', '', '', '', 'ëœ¬ë•…', '', '', '1', '1', '0', '0', '0.353'],
                ['', '', 'TOTAL', '', '', '', '', '', '', '', '', '', '33', '9', '4', '4', '0.281']
            ],
            homeBatting: [
                ['íƒ€ìˆœ', 'í¬ì§€ì…˜', 'ì„ ìˆ˜ëª…', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'íƒ€ìˆ˜', 'ì•ˆíƒ€', 'íƒ€ì ', 'ë“ì ', 'íƒ€ìœ¨'],
                ['1', 'ì¤‘', 'ë¥˜ìŠ¹ë¯¼', 'ì‚¼ì§„', '4êµ¬', 'ìš°ì•ˆ', '', 'ì¢Œì•ˆ', '', 'ì¶œíƒ€', '', '4', '2', '2', '1', '0.237'],
                ['2', 'ì´', 'ë¥˜ê²½ì¸', 'ì¢Œì•ˆ', '4êµ¬', '2ë£¨', '', 'ì¢Œì•ˆ', '', '1ë£¨', '', '4', '2', '0', '2', '0.427'],
                ['3', 'ìš°', 'ì´ì¬í˜„', '4êµ¬', '3ë£¨', '', 'ì¶œë¹„', 'ì‚¼ì§„', '', 'ìš°ë¹„', '', '4', '0', '1', '1', '0.335'],
                ['4', 'ì‚¼', 'ì§„ë™í¬', 'ìš°ì•ˆ', 'ìš°ë³¼ì•ˆ', '', '1íƒ€', '', '3ë£¨', '', '', '4', '2', '2', '1', '0.405'],
                ['5', 'í¬', 'ìœ¤í˜¸ì¤€', '4êµ¬', '2ë£¨', '', '3ì‹¤', '', 'ìš°ë¹„', '', '', '3', '0', '0', '0', '0.353'],
                ['6', 'ì¼', 'ì „ì˜ì‚°', '4êµ¬', '', 'ì¢Œì•ˆ', '3ë³¼', '', 'ì‚¼ì§„', '', '', '3', '1', '0', '1', '0.304'],
                ['7', 'ì¢Œ', 'ê¹€ì˜ì¤€', 'ì¢Œì•ˆ', '', '4êµ¬', '', 'ì‚¼ì§„', '', 'ì¢Œë¹„', '', '3', '1', '1', '1', '0.225'],
                ['8', 'ìœ ', 'ê¹€ì¬ìƒ', '2ë³¼', '', 'í¬ì¹¸', '', 'ì¢Œë¹„', '', '4êµ¬', '', '3', '1', '0', '0', '0.364'],
                ['9', 'ì§€', 'ì •ìˆœì›', '2ë£¨', '', '2ë£¨', '', '', '', '', '', '2', '0', '1', '0', '0.27'],
                ['', 'ëŒ€íƒ€', 'ì „ëŒ€í ', '', '', '', '', '4êµ¬', '', 'ì¶œíƒ€', '', '1', '0', '0', '1', '0.333'],
                ['', '', 'TOTAL', '', '', '', '', '', '', '', '', '31', '9', '7', '8', '0.319']
            ],
            awayPitching: [
                ['ì„ ìˆ˜ëª…', 'ë“±íŒ', 'ê²°ê³¼', 'ìŠ¹', 'íŒ¨', 'ì„¸', 'ì´ë‹', 'íƒ€ì', 'íˆ¬ìˆ˜', 'íƒ€ìˆ˜', 'í”¼ì•ˆíƒ€', 'í”¼í™ˆëŸ°', '4ì‚¬êµ¬', 'ì‚¼ì§„', 'ì‹¤ì ', 'ìì±…', 'í‰ê· ìì±…ì '],
                ['ê¹€íƒœê²½', 'ì„ ë°œ', 'íŒ¨', '0', '3', '0', ' 1/3', '7', '37', '4', '3', '0', '3', '1', '3', '3', '5.68'],
                ['ì „ë™ê±´', '1.8', '', '5', '2', '0', '1 2/3', '7', '26', '5', '1', '0', '2', '0', '2', '1', '5.66'],
                ['ìµœì¤€ìš±', '3.6', '', '0', '0', '0', '1', '6', '23', '5', '3', '0', '1', '0', '2', '2', '6'],
                ['ê¹€ë™ì—½', '4.3', '', '5', '1', '0', '1', '4', '15', '4', '0', '0', '0', '0', '0', '0', '2.73'],
                ['ë°•ì‹œê²€', '5.7', '', '0', '1', '0', '1', '6', '27', '5', '2', '0', '1', '2', '1', '1', '9'],
                ['ê¹€íƒœê±´', '6.4', '', '1', '0', '2', '1', '3', '17', '3', '0', '0', '0', '1', '0', '0', '3.63'],
                ['ì„œì˜íƒœ', '7.7', '', '0', '1', '0', '1', '3', '13', '2', '0', '0', '1', '0', '0', '0', '6'],
                ['ê¹€íƒœí›ˆ', '8.1', '', '0', '1', '4', '1', '3', '11', '3', '0', '0', '0', '0', '0', '0', '3.38'],
                ['', 'TOTAL', '', '', '', '8', '39', '169', '31', '9', '0', '8', '4', '8', '7', '5.66']
            ],
            homePitching: [
                ['ì„ ìˆ˜ëª…', 'ë“±íŒ', 'ê²°ê³¼', 'ìŠ¹', 'íŒ¨', 'ì„¸', 'ì´ë‹', 'íƒ€ì', 'íˆ¬ìˆ˜', 'íƒ€ìˆ˜', 'í”¼ì•ˆíƒ€', 'í”¼í™ˆëŸ°', '4ì‚¬êµ¬', 'ì‚¼ì§„', 'ì‹¤ì ', 'ìì±…', 'í‰ê· ìì±…ì '],
                ['ê³ íš¨ì¤€', 'ì„ ë°œ', '', '0', '1', '0', '2 2/3', '16', '66', '11', '5', '0', '5', '3', '3', '3', '11.88'],
                ['ê¹€ì˜í˜„', '3.8', 'ìŠ¹', '2', '0', '0', '2 1/3', '9', '33', '9', '2', '1', '0', '2', '1', '1', '10.26'],
                ['ì´ì •í•˜', '6.8', '', '2', '0', '0', '1', '3', '15', '3', '0', '0', '0', '0', '0', '0', '7.08'],
                ['ê¹€ë™ìš±', '7.2', '', '1', '2', '0', '1', '3', '6', '3', '0', '0', '0', '0', '0', '0', '4.35'],
                ['í™ìŠ¹í˜„', '8.5', '', '6', '0', '1', '1', '4', '10', '4', '1', '0', '0', '1', '0', '0', '4.47'],
                ['ì´ì°½ì¤€', '9.9', '', '5', '2', '9', '1', '3', '8', '3', '1', '0', '0', '0', '0', '0', '4.43'],
                ['', 'TOTAL', '', '', '', '9', '38', '138', '33', '9', '1', '5', '6', '4', '4', '5.53']
            ]
        };

        function loadSampleData() {
            renderBoxscore(sampleData);
        }

        function loadCSV(event) {
            const file = event.target.files[0];
            if (!file) {
                console.error('íŒŒì¼ì´ ì„ íƒë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
                return;
            }

            console.log('íŒŒì¼ ë¡œë“œ ì‹œì‘:', file.name);
            console.log('íŒŒì¼ í¬ê¸°:', file.size, 'bytes');

            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                const csv = e.target.result;
                    console.log('CSV ë‚´ìš© (ì²˜ìŒ 500ì):', csv.substring(0, 500));
                    
                const data = parseCSV(csv);
                    console.log('íŒŒì‹±ëœ ë°ì´í„°:', data);
                    
                renderBoxscore(data);
                } catch (error) {
                    console.error('CSV íŒŒì‹± ì˜¤ë¥˜:', error);
                    alert('CSV íŒŒì¼ì„ íŒŒì‹±í•˜ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ' + error.message);
                }
            };
            
            reader.onerror = function(error) {
                console.error('íŒŒì¼ ì½ê¸° ì˜¤ë¥˜:', error);
                alert('íŒŒì¼ì„ ì½ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
            };
            
            reader.readAsText(file, 'utf-8');
        }

        function parseCSV(csv) {
            console.log('CSV íŒŒì‹± ì‹œì‘');
            
            const lines = csv.split('\n')
                .map(line => line.replace(/\r/g, '').trim())
                .filter(line => line && !line.match(/^,+$/));
            
            console.log('ì´ ë¼ì¸ ìˆ˜:', lines.length);
            console.log('ì²˜ë¦¬í•  ë¼ì¸ë“¤:', lines.slice(0, 10)); // ì²˜ìŒ 10ì¤„ë§Œ ë¡œê·¸
            
            const data = {
                gameInfo: {},
                scoreByInning: [],
                awayBatting: [],
                homeBatting: [],
                awayPitching: [],
                homePitching: []
            };

            let currentSection = '';
            
            for (let i = 0; i < lines.length; i++) {
                const line = lines[i];
                console.log(`ë¼ì¸ ${i + 1}:`, line);
                
                // ì„¹ì…˜ êµ¬ë¶„ì í™•ì¸
                if (line.includes('[GAME_INFO]')) {
                    currentSection = 'gameInfo';
                    console.log('GAME_INFO ì„¹ì…˜ ì‹œì‘');
                    continue;
                } else if (line.includes('[SCORE_BY_INNING]')) {
                    currentSection = 'scoreByInning';
                    console.log('SCORE_BY_INNING ì„¹ì…˜ ì‹œì‘');
                    continue;
                } else if (line.includes('[AWAY_BATTING]')) {
                    currentSection = 'awayBatting';
                    console.log('AWAY_BATTING ì„¹ì…˜ ì‹œì‘');
                    continue;
                } else if (line.includes('[HOME_BATTING]')) {
                    currentSection = 'homeBatting';
                    console.log('HOME_BATTING ì„¹ì…˜ ì‹œì‘');
                    continue;
                } else if (line.includes('[AWAY_PITCHING]')) {
                    currentSection = 'awayPitching';
                    console.log('AWAY_PITCHING ì„¹ì…˜ ì‹œì‘');
                    continue;
                } else if (line.includes('[HOME_PITCHING]')) {
                    currentSection = 'homePitching';
                    console.log('HOME_PITCHING ì„¹ì…˜ ì‹œì‘');
                    continue;
                }

                const values = line.split(',').map(v => v.trim());
                console.log(`  ê°’ë“¤:`, values);
                
                // ë¹ˆ í–‰ì´ë‚˜ ëª¨ë“  ê°’ì´ ë¹ˆ í–‰ì€ ê±´ë„ˆë›°ê¸°
                if (values.every(v => v === '')) {
                    console.log('  ë¹ˆ í–‰ ê±´ë„ˆë›°ê¸°');
                    continue;
                }
                
                if (currentSection === 'gameInfo') {
                    if (values.length >= 2 && values[0] && values[1]) {
                        data.gameInfo[values[0]] = values[1];
                        console.log(`  ê²Œì„ ì •ë³´ ì¶”ê°€: ${values[0]} = ${values[1]}`);
                    }
                } else if (currentSection && data[currentSection]) {
                    // ë¶ˆí•„ìš”í•œ ë¹ˆ ì»¬ëŸ¼ë“¤ ì œê±°
                    const cleanValues = values.filter((v, index) => {
                        if (currentSection === 'scoreByInning') {
                            return index < 14; // R, H, E, Bê¹Œì§€ë§Œ
                        }
                        return v !== '' || index < 16; // ê¸°ë³¸ì ìœ¼ë¡œ 16ì»¬ëŸ¼ê¹Œì§€ ìœ ì§€
                    });
                    
                    if (cleanValues.some(v => v !== '')) {
                        data[currentSection].push(cleanValues);
                        console.log(`  ${currentSection}ì— ë°ì´í„° ì¶”ê°€:`, cleanValues);
                    }
                }
            }

            console.log('ìµœì¢… íŒŒì‹± ê²°ê³¼:', data);
            return data;
        }

        function renderBoxscore(data) {
            console.log('ë°•ìŠ¤ìŠ¤ì½”ì–´ ë Œë”ë§ ì‹œì‘:', data);
            
            const container = document.getElementById('boxscore-container');
            if (!container) {
                console.error('boxscore-containerë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                return;
            }
            
            try {
                // ë°ì´í„° ê²€ì¦
                if (!data) {
                    throw new Error('ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.');
                }
                
                if (!data.gameInfo) {
                    console.warn('ê²Œì„ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤. ê¸°ë³¸ê°’ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.');
                    data.gameInfo = {};
                }
                
                if (!data.scoreByInning || data.scoreByInning.length === 0) {
                    console.warn('ìŠ¤ì½”ì–´ë³´ë“œ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.');
                    data.scoreByInning = [];
                }
                
                if (!data.awayBatting || data.awayBatting.length === 0) {
                    console.warn('ì›ì •íŒ€ íƒ€ì ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.');
                    data.awayBatting = [];
                }
                
                if (!data.homeBatting || data.homeBatting.length === 0) {
                    console.warn('í™ˆíŒ€ íƒ€ì ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.');
                    data.homeBatting = [];
                }
                
                if (!data.awayPitching || data.awayPitching.length === 0) {
                    console.warn('ì›ì •íŒ€ íˆ¬ìˆ˜ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.');
                    data.awayPitching = [];
                }
                
                if (!data.homePitching || data.homePitching.length === 0) {
                    console.warn('í™ˆíŒ€ íˆ¬ìˆ˜ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.');
                    data.homePitching = [];
                }
            
            container.innerHTML = `
                <div class="header">
                    <div class="game-info">
                        <div class="team-logo">NC</div>
                        <div>
                            <div class="team-name">${data.gameInfo.awayTeam || 'NC'}</div>
                            <div class="team-record">${data.gameInfo.awayRecord || ''}</div>
                        </div>
                        <div class="result lose">LOSE</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 20px; font-weight: bold;">${data.gameInfo.date || ''}</div>
                        <div style="font-size: 14px; margin-top: 5px;">${data.gameInfo.location || ''}</div>
                    </div>
                    <div class="game-info">
                        <div class="result win">WIN</div>
                        <div>
                            <div class="team-name">${data.gameInfo.homeTeam || 'ì‚¼ì„±'}</div>
                            <div class="team-record">${data.gameInfo.homeRecord || ''}</div>
                        </div>
                        <div class="team-logo">ì‚¼ì„±</div>
                    </div>
                </div>

                <div class="scoreboard">
                    ${renderScoreboard(data.scoreByInning)}
                </div>

                <div class="batting-stats">
                    <div class="stats-header">
                        <span>ğŸ</span> NC ë‹¤ì´ë…¸ìŠ¤ íƒ€ì ê¸°ë¡
                    </div>
                    ${renderBattingStats(data.awayBatting)}
                </div>

                <div class="batting-stats">
                    <div class="stats-header">
                        <span>ğŸ</span> ì‚¼ì„± íƒ€ì ê¸°ë¡
                    </div>
                    ${renderBattingStats(data.homeBatting)}
                </div>

                <div class="pitching-stats">
                    <div class="stats-header">
                        <span>âš¾</span> NC ë‹¤ì´ë…¸ìŠ¤ íˆ¬ìˆ˜ ê¸°ë¡
                    </div>
                    ${renderPitchingStats(data.awayPitching)}
                </div>

                <div class="pitching-stats">
                    <div class="stats-header">
                        <span>âš¾</span> ì‚¼ì„± íˆ¬ìˆ˜ ê¸°ë¡
                    </div>
                    ${renderPitchingStats(data.homePitching)}
                </div>
            `;
                
                console.log('ë°•ìŠ¤ìŠ¤ì½”ì–´ ë Œë”ë§ ì™„ë£Œ');
                
            } catch (error) {
                console.error('ë°•ìŠ¤ìŠ¤ì½”ì–´ ë Œë”ë§ ì˜¤ë¥˜:', error);
                container.innerHTML = `
                    <div style="text-align: center; padding: 40px; color: #f44336; background: white; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                        <h3>ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤</h3>
                        <p>${error.message}</p>
                        <p>íŒŒì¼ í˜•ì‹ì„ í™•ì¸í•´ì£¼ì„¸ìš”.</p>
                    </div>
                `;
            }
        }

        function renderScoreboard(scoreData) {
            console.log('ìŠ¤ì½”ì–´ë³´ë“œ ë Œë”ë§:', scoreData);
            
            if (!scoreData || scoreData.length === 0) {
                console.warn('ìŠ¤ì½”ì–´ë³´ë“œ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.');
                return '<p style="text-align: center; padding: 20px; color: #666;">ìŠ¤ì½”ì–´ë³´ë“œ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</p>';
            }
            
            try {
            let html = '<table>';
            
            scoreData.forEach((row, index) => {
                    console.log(`ìŠ¤ì½”ì–´ë³´ë“œ í–‰ ${index}:`, row);
                    
                if (index === 0) {
                    html += '<tr>';
                    row.forEach(cell => {
                        html += `<th class="inning-score">${cell}</th>`;
                    });
                    html += '</tr>';
                } else {
                    html += `<tr class="team-row">`;
                    row.forEach((cell, cellIndex) => {
                        const className = cellIndex >= row.length - 4 ? 'final-stats' : '';
                        html += `<td class="${className}">${cell}</td>`;
                    });
                    html += '</tr>';
                }
            });
            
            html += '</table>';
            return html;
                
            } catch (error) {
                console.error('ìŠ¤ì½”ì–´ë³´ë“œ ë Œë”ë§ ì˜¤ë¥˜:', error);
                return '<p style="text-align: center; padding: 20px; color: #f44336;">ìŠ¤ì½”ì–´ë³´ë“œ ë Œë”ë§ ì˜¤ë¥˜</p>';
            }
        }

        function renderBattingStats(battingData) {
            console.log('íƒ€ì ê¸°ë¡ ë Œë”ë§:', battingData);
            
            if (!battingData || battingData.length === 0) {
                console.warn('íƒ€ì ê¸°ë¡ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.');
                return '<p style="text-align: center; padding: 20px; color: #666;">íƒ€ì ê¸°ë¡ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</p>';
            }
            
            try {
            let html = '<table class="stats-table">';
            
            battingData.forEach((row, index) => {
                    console.log(`íƒ€ì ê¸°ë¡ í–‰ ${index}:`, row);
                    
                if (index === 0) {
                    html += '<tr>';
                    row.forEach(cell => {
                        html += `<th>${cell}</th>`;
                    });
                    html += '</tr>';
                } else {
                    const isTotal = row[2] === 'TOTAL' || (row.length > 2 && row[2] === 'TOTAL');
                    const rowClass = isTotal ? 'total-row' : '';
                    html += `<tr class="${rowClass}">`;
                    
                    row.forEach((cell, cellIndex) => {
                        if (cellIndex === 0) {
                            // íƒ€ìˆœ
                            html += `<td class="batting-order">${cell}</td>`;
                        } else if (cellIndex === 1) {
                            // í¬ì§€ì…˜
                            html += `<td class="position">${cell}</td>`;
                        } else if (cellIndex === 2) {
                            // ì„ ìˆ˜ëª…
                            html += `<td class="player-name">${cell}</td>`;
                        } else {
                            html += `<td>${cell}</td>`;
                        }
                    });
                    html += '</tr>';
                }
            });
            
            html += '</table>';
            return html;
                
            } catch (error) {
                console.error('íƒ€ì ê¸°ë¡ ë Œë”ë§ ì˜¤ë¥˜:', error);
                return '<p style="text-align: center; padding: 20px; color: #f44336;">íƒ€ì ê¸°ë¡ ë Œë”ë§ ì˜¤ë¥˜</p>';
            }
        }

        function renderPitchingStats(pitchingData) {
            console.log('íˆ¬ìˆ˜ ê¸°ë¡ ë Œë”ë§:', pitchingData);
            
            if (!pitchingData || pitchingData.length === 0) {
                console.warn('íˆ¬ìˆ˜ ê¸°ë¡ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.');
                return '<p style="text-align: center; padding: 20px; color: #666;">íˆ¬ìˆ˜ ê¸°ë¡ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</p>';
            }
            
            try {
            let html = '<table class="stats-table">';
            
            pitchingData.forEach((row, index) => {
                    console.log(`íˆ¬ìˆ˜ ê¸°ë¡ í–‰ ${index}:`, row);
                    
                if (index === 0) {
                    html += '<tr>';
                    row.forEach(cell => {
                        html += `<th>${cell}</th>`;
                    });
                    html += '</tr>';
                } else {
                    const isTotal = row[0] === '';
                    const rowClass = isTotal ? 'total-row' : '';
                    html += `<tr class="${rowClass}">`;
                    
                    row.forEach((cell, cellIndex) => {
                        if (cellIndex === 0) {
                            html += `<td class="player-name">${cell}</td>`;
                        } else {
                            html += `<td>${cell}</td>`;
                        }
                    });
                    html += '</tr>';
                }
            });
            
            html += '</table>';
            return html;
                
            } catch (error) {
                console.error('íˆ¬ìˆ˜ ê¸°ë¡ ë Œë”ë§ ì˜¤ë¥˜:', error);
                return '<p style="text-align: center; padding: 20px; color: #f44336;">íˆ¬ìˆ˜ ê¸°ë¡ ë Œë”ë§ ì˜¤ë¥˜</p>';
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ìƒ˜í”Œ ë°ì´í„° í‘œì‹œ
        window.onload = function() {
            loadSampleData();
        };
    </script>
</body>
</html>